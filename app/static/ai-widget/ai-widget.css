#ai-bubble{position:fixed;right:20px;bottom:20px;z-index:9999;width:56px;height:56px;border-radius:50%;
display:grid;place-items:center;background:#111;color:#fff;box-shadow:0 8px 24px rgba(0,0,0,.25);cursor:pointer;
font-weight:700;user-select:none}
#ai-bubble:hover{transform:translateY(-1px)}
#ai-panel{position:fixed;right:20px;bottom:88px;z-index:9999;width:min(380px,92vw);height:64vh;max-height:680px;
background:#fff;border:1px solid #e9e9e9;border-radius:16px;box-shadow:0 16px 40px rgba(0,0,0,.25);
display:none;overflow:hidden}
#ai-header{padding:12px 14px;font-weight:600;background:#f7f7f7;border-bottom:1px solid #eee;display:flex;align-items:center;justify-content:space-between}
#ai-close{appearance:none;border:0;background:transparent;font-size:18px;cursor:pointer;color:#666}
#ai-messages{height:calc(64vh - 128px);overflow-y:auto;padding:12px;font-size:14px;line-height:1.45;background:#fff}
.ai-msg{margin:8px 0;padding:10px 12px;border-radius:12px;max-width:90%;word-wrap:break-word}
.ai-user{background:#eef3ff;margin-left:auto}
.ai-bot{background:#f3f3f3;margin-right:auto;white-space:pre-wrap}
#ai-status{padding:6px 12px;font-size:12px;color:#666}
#ai-inputbar{display:flex;gap:8px;padding:10px;border-top:1px solid #eee;background:#fff}
#ai-text{flex:1;padding:10px 12px;border:1px solid #ddd;border-radius:10px;font-size:14px;resize:none}
#ai-send{padding:10px 14px;border:none;border-radius:10px;background:#111;color:#fff;cursor:pointer}
#ai-send:disabled{opacity:.6;cursor:not-allowed}

/* тёмная тема — автоподхват */
@media (prefers-color-scheme: dark){
  #ai-panel{background:#121212;border-color:#2a2a2a}
  #ai-header{background:#1a1a1a;border-bottom-color:#2a2a2a;color:#ddd}
  .ai-bot{background:#1e1e1e;color:#ddd}
  .ai-user{background:#0f172a;color:#e5e7eb}
  #ai-text{background:#0f0f0f;border-color:#333;color:#e5e7eb}
  #ai-bubble{background:#0f172a}
}
