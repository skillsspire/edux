{% extends "base.html" %}
{% load static humanize %}

{% block title %}{{ course.title }} ‚Äî SkillsSpire{% endblock %}

{% block content %}

<!-- ============================
          HERO (Course)
============================ -->
<section class="course-hero fade-up">
  <div class="container">
    <div class="course-hero-grid">

      <!-- LEFT INFO BLOCK -->
      <div class="course-hero-left">

        <span class="course-category">{{ course.category.name }}</span>

        <h1 class="course-title-xl">{{ course.title }}</h1>

        <p class="course-subtitle-lg">
          {{ course.short_description }}
        </p>

        <ul class="course-features-list">
          <li>üéì –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</li>
          <li>‚ôæÔ∏è –ë–µ—Å—Å—Ä–æ—á–Ω—ã–π –¥–æ—Å—Ç—É–ø</li>
          <li>üì± –ú–æ–±–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç</li>
          <li>üíæ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è</li>
        </ul>

        <div class="course-hero-actions">
          <a class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#enrollModal">
            –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
          </a>

          <a class="btn btn-secondary btn-lg" href="#program">
            –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫—É—Ä—Å–∞
          </a>
        </div>

      </div>

      <!-- RIGHT PRICE CARD -->
      <div class="course-hero-right">
        <div class="price-card">
          <div class="price-amount">
            {{ course.price|floatformat:0|intcomma }} ‚Ç∏
          </div>

          <button class="btn btn-primary btn-full mt-2" data-bs-toggle="modal" data-bs-target="#enrollModal">
            –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
          </button>

          <button id="wishlistBtn" class="btn btn-outline btn-full mt-2">
            <i class="bi bi-heart"></i> –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
          </button>

          <ul class="price-card-features">
            <li>üìò {{ lessons|length }} —É—Ä–æ–∫–æ–≤</li>
            <li>üíæ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è</li>
            <li>‚ôæÔ∏è –ü–æ–∂–∏–∑–Ω–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø</li>
            <li>üì± –£–¥–æ–±–Ω–æ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ</li>
            <li>üéì –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</section>



<!-- ============================
           ABOUT COURSE
============================ -->
<section class="section fade-up">
  <div class="container">
    <h2 class="section-title">–û –∫—É—Ä—Å–µ</h2>

    <div class="section-text">
      {{ course.description|safe|default:"–û–ø–∏—Å–∞–Ω–∏–µ —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è." }}
    </div>
  </div>
</section>



<!-- ============================
        COURSE PROGRAM
============================ -->
<section id="program" class="section bg-light fade-up">
  <div class="container">
    <h2 class="section-title">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫—É—Ä—Å–∞</h2>

    {% if lessons %}
    <div class="lessons-list">
      {% for lesson in lessons %}
      <div class="lesson-card">

        <div class="lesson-info">
          <h4 class="lesson-title">{{ lesson.title }}</h4>
          <span class="lesson-duration">
            {% if lesson.duration_minutes %}{{ lesson.duration_minutes }} –º–∏–Ω{% endif %}
          </span>
        </div>

        <span class="lesson-lock">
          <i class="bi bi-lock-fill"></i>
        </span>

      </div>
      {% endfor %}
    </div>

    {% else %}
      <p class="text-muted">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ.</p>
    {% endif %}
  </div>
</section>



<!-- ============================
           INSTRUCTOR
============================ -->
<section class="section fade-up">
  <div class="container">
    <h2 class="section-title">–ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</h2>

    <div class="instructor-card-xl">

      <img
        src="{{ teacher_profile.avatar.url|default:'/static/img/avatar-placeholder.svg' }}"
        alt="–ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"
        class="instructor-photo-xl"
      >

      <div class="instructor-info-xl">
        <h4 class="instructor-name">{{ teacher.get_full_name }}</h4>
        <p class="instructor-role">{{ teacher_profile.specialization|default:"–≠–∫—Å–ø–µ—Ä—Ç" }}</p>
        <p class="instructor-bio">
          {{ teacher_profile.bio|truncatewords:40 }}
        </p>
      </div>

    </div>
  </div>
</section>



<!-- ============================
           REVIEWS
============================ -->
<section class="section bg-light fade-up">
  <div class="container">
    <h2 class="section-title">–û—Ç–∑—ã–≤—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h2>

    {% if reviews %}
    <div class="reviews-grid">
      {% for review in reviews %}
      <div class="review-card">
        <p class="review-text">‚Äú{{ review.comment|truncatewords:25 }}‚Äù</p>
        <div class="review-author">
          <span class="review-name">
            ‚Äî {{ review.name|default:"–ê–Ω–æ–Ω–∏–º" }}
          </span>
          <span class="review-date">
            {{ review.created_at|date:"d M Y" }}
          </span>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
      <p class="text-muted">–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤.</p>
    {% endif %}
  </div>
</section>



{% endblock %}
